<div ng-controller="ExplorerCtrl">

    <!-- Menu toggle -->
    <a href="#side-menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>

    <div id="side-menu">
      
      <div class="padding">
          <h3>View</h3>

          <button class="pure-button" ng-click="toggleView('wordcloud')">Wordcloud</button>
          <button class="pure-button" ng-click="toggleView('scatterplot')">Chart</button>
          <button class="pure-button" ng-click="toggleView('treemap')">Block</button>
          <button class="pure-button" ng-click="toggleView('list')">List</button>
          
          <h3>Location Options</h3>
          
          <ul id="locationOptions" class="filter">
            <li ng-repeat="location in locations">
              <button ng-class="{selected: location.name === 'all'}" class="locationToggle" target-location="{{location.name}}" location="location" select-start="selectionStart" interval="interval" set-location='setLocation' update-fn='getTrends'>{{ location.name | allAsGlobal }}</button>
            </li>
          </ul>
        <!--
          <h3>Source Options</h3>
          
          <ul id="sourceOptions" class="filter">
              <li><button class="selected">All sources</button></li>
              <li><button>Blogs</button></li>
              <li><button>News</button></li>
              <li><button>Academia</button></li>
              <li><button>Twitter</button></li>
          </ul>
      
          <h3>Velocity</h3>
          <ul id="sourceOptions" class="filter">
              <li><button class="selected">All</button></li>
              <li><button>Low</button></li>
              <li><button>Medium</button></li>
              <li><button>High</button></li>
          </ul> -->
      </div>
    </div>


  <div id="graph-container" class="wordcloud-container" style = "float:right; width:80%;">
    <div ng-hide="dataAvailable" class="unavailableOverlay">
      <p>Data unavailable for selection</p>
    </div>
    <div wordcloud id="wordcloud" style="" map-scale="1" trends="trends"></div>
    <div scatter-plot id="scatterplot" trends="trends"></div>
    <div treemap id="treemap" trends="trends"></div>
    <div id="list">
      <ul><li ng-repeat="trend in trends"> {{ trend.term }}  {{ trend.occurrences }}  </li></ul>
    </div>

    <div timespan location="location" select-start="selectionStart" select-end="selectionEnd" interval="interval" start="spanStart" end="spanEnd" update-fn='getTrends' class='ui-brush'></div>
    <div ng-visible="true" ng-click="resetPanels()" id="overlay"></div>
    <div ng-repeat="(idx,trend) in trends" class="trendPanel" id="trend-panel-{{ idx }}">
      <h4>{{ trend.term }}</h4>
      <p>Would you like to find out more about this trend?</p>
      <a class="pure-button" href="#/trends/{{ trend.term }}">Find out more</a>
      <a class="close" ng-click="resetPanels()"><i class="fa fa-times-circle-o"></i></a>
    </div>
  </div>

</div>